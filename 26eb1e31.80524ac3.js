(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{111:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var a=n(0),c=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var b=c.a.createContext({}),s=function(e){var t=c.a.useContext(b),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=s(e.components);return c.a.createElement(b.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return c.a.createElement(c.a.Fragment,{},t)}},d=c.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,r=e.parentName,b=l(e,["components","mdxType","originalType","parentName"]),m=s(n),d=a,p=m["".concat(r,".").concat(d)]||m[d]||u[d]||o;return n?c.a.createElement(p,i(i({ref:t},b),{},{components:n})):c.a.createElement(p,i({ref:t},b))}));function p(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,r=new Array(o);r[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:a,r[1]=i;for(var b=2;b<o;b++)r[b]=n[b];return c.a.createElement.apply(null,r)}return c.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},114:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return r}));var a=n(24),c=n(116);function o(){var e=Object(a.default)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,n=void 0===t?"/":t,o=e.url;return{withBaseUrl:function(e,t){return function(e,t,n,a){var o=void 0===a?{}:a,r=o.forcePrependBaseUrl,i=void 0!==r&&r,l=o.absolute,b=void 0!==l&&l;if(!n)return n;if(n.startsWith("#"))return n;if(Object(c.b)(n))return n;if(i)return t+n;var s=n.startsWith(t)?n:t+n.replace(/^\//,"");return b?e+s:s}(o,n,e,t)}}}function r(e,t){return void 0===t&&(t={}),(0,o().withBaseUrl)(e,t)}},116:function(e,t,n){"use strict";function a(e){return!0===/^(\w*:|\/\/)/.test(e)}function c(e){return void 0!==e&&!a(e)}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}))},82:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return l})),n.d(t,"toc",(function(){return b})),n.d(t,"default",(function(){return m}));var a=n(3),c=n(7),o=(n(0),n(111)),r=n(114),i={id:"resumen_diario",title:"Resumen diario de Boletas",sidebar_label:"Resumen diario"},l={unversionedId:"resumen_diario",id:"resumen_diario",isDocsHomePage:!1,title:"Resumen diario de Boletas",description:"Para comunicar la emisi\xf3n de boletas y notas de cr\xe9dito/d\xe9bito relacionadas, SUNAT a definido un esquema XML nombrado como Resumen diario de Boletas SummaryDocuments. En este documento se pueden informar varios comprobantes siempre que hayan sido emitidos en el mismo d\xeda.",source:"@site/docs/resumen-diario.md",slug:"/resumen_diario",permalink:"/docs/resumen_diario",editUrl:"https://github.com/thegreenter/F001-1/edit/master/website/docs/resumen-diario.md",version:"current",sidebar_label:"Resumen diario",sidebar:"docs",previous:{title:"Comunicaiones de baja",permalink:"/docs/baja"},next:{title:"Lista de Herramientas",permalink:"/docs/tools"}},b=[{value:"Comprobantes permitidos",id:"comprobantes-permitidos",children:[]},{value:"Informaci\xf3n requerida",id:"informaci\xf3n-requerida",children:[]},{value:"Ejemplo",id:"ejemplo",children:[{value:"XML",id:"xml",children:[]},{value:"Firma",id:"firma",children:[]},{value:"Envio a SUNAT.",id:"envio-a-sunat",children:[]}]}],s={toc:b};function m(e){var t=e.components,n=Object(c.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Para comunicar la emisi\xf3n de boletas y notas de cr\xe9dito/d\xe9bito relacionadas, SUNAT a definido un esquema XML nombrado como Resumen diario de Boletas ",Object(o.b)("inlineCode",{parentName:"p"},"SummaryDocuments"),". En este documento se pueden informar varios comprobantes siempre que hayan sido emitidos en el mismo d\xeda."),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"Boleta Invididual")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"Seg\xfan la resoluci\xf3n ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"http://www.sunat.gob.pe/legislacion/superin/2019/114-2019.pdf"}),"N.\xb0 114 -2019/SUNAT Art. 12"),", es posible comunicar a SUNAT boletas electr\xf3nicas de forma individual, de las misma forma que se env\xedan las facturas."))),Object(o.b)("h2",{id:"comprobantes-permitidos"},"Comprobantes permitidos"),Object(o.b)("p",null,"Los tipos de comprobantes que pueden incluirse en un resumen diario, son los siguientes."),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Tipo"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Descripci\xf3n"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"03"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Boletas")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"07"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Nota de cred\xe9ito relacionada a boletas")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"08"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Nota de d\xe9bito relacionada a boletas")))),Object(o.b)("h2",{id:"informaci\xf3n-requerida"},"Informaci\xf3n requerida"),Object(o.b)("p",null,"Necesitamos incluir la siguiente informaci\xf3n por cada comprobante a enviar en el resumen diario."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Tipo de comprobante"),Object(o.b)("li",{parentName:"ul"},"Serie y correlativo del comprobante"),Object(o.b)("li",{parentName:"ul"},"Fecha de Emisi\xf3n"),Object(o.b)("li",{parentName:"ul"},"Moneda"),Object(o.b)("li",{parentName:"ul"},"Datos del receptor"),Object(o.b)("li",{parentName:"ul"},"Impuestos globales"),Object(o.b)("li",{parentName:"ul"},"Totales"),Object(o.b)("li",{parentName:"ul"},"Documento de referencia (si es NCR, NDB)"),Object(o.b)("li",{parentName:"ul"},"Datos de percepci\xf3n (si aplica)"),Object(o.b)("li",{parentName:"ul"},"Estado")),Object(o.b)("p",null,"Sobre este \xfaltimo campo ",Object(o.b)("inlineCode",{parentName:"p"},"Estado"),", se utiliza para determinar seg\xfan su valor si el comprobante:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"1"),": Se esta informando por primera vez."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"2"),": Se inform\xf3 previamente y se quiere editar sus valores. "),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"3"),": Se quiere anular el comprobante")),Object(o.b)("p",null,"Adicionalmente necesitamos un identificador de este documento, que sigue el siguiente patr\xf3n:\n",Object(o.b)("inlineCode",{parentName:"p"},"RC-<Fecha>-<Correlativo>")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"RC"),": Valor constante"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"<Fecha>"),": Fecha del resumen diario en formato ",Object(o.b)("inlineCode",{parentName:"li"},"YYYYMMDD"),"."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"<Correlativo>"),": Correlativo definido por el emisor, puede contener hasta 5 digitos.")),Object(o.b)("h2",{id:"ejemplo"},"Ejemplo"),Object(o.b)("p",null,"En este ejemplo comunicaremos la emisi\xf3n de una boleta y una nota de cr\xe9dito relacionada a boleta, y tambien la anulaci\xf3n de boleta en el mismo dia."),Object(o.b)("p",null,"Datos de los comprobantes"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Campo"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Boleta 1"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Nota Credito 1"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Boleta 2"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Tipo"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"03"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"07"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"03")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Numero"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"B001-22"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"BC01-3"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"BA01-11")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Fecha"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"2020-10-20"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"2020-10-20"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"2020-10-20")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Moneda"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Soles (PEN)"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Soles (PEN)"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Soles (PEN)")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"DNI Receptor"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"33224567"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"44112576"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"00538572")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Documento Afectado"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"-"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"B001-15"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"-")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Total Gravadas"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"1000"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"100"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"200")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"IGV"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"180"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"18"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"36")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Total"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"1180"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"118"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"236")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Estado"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"1"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"1"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"3")))),Object(o.b)("h3",{id:"xml"},"XML"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),'<?xml version="1.0" encoding="utf-8"?>\n<SummaryDocuments xmlns="urn:sunat:names:specification:ubl:peru:schema:xsd:SummaryDocuments-1" xmlns:cac="urn:oasis:names:specification:ubl:schema:xsd:CommonAggregateComponents-2" xmlns:cbc="urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2" xmlns:ds="http://www.w3.org/2000/09/xmldsig#" xmlns:ext="urn:oasis:names:specification:ubl:schema:xsd:CommonExtensionComponents-2" xmlns:sac="urn:sunat:names:specification:ubl:peru:schema:xsd:SunatAggregateComponents-1">\n    <ext:UBLExtensions>\n        <ext:UBLExtension>\n            <ext:ExtensionContent/>\n        </ext:UBLExtension>\n    </ext:UBLExtensions>\n    \x3c!-- La versi\xf3n de UBL (no hay versi\xf3n 2.1 para resumen) --\x3e\n    <cbc:UBLVersionID>2.0</cbc:UBLVersionID>\n    \x3c!-- La versi\xf3n de la estructura del documento definida por SUNAT --\x3e\n    <cbc:CustomizationID>1.1</cbc:CustomizationID>\n    \x3c!-- Identificador RC-<Fecha>-##### --\x3e\n    <cbc:ID>RC-20201022-33221</cbc:ID>\n    \x3c!-- Fecha emisi\xf3n de comprobantes  --\x3e\n    <cbc:ReferenceDate>2020-10-20</cbc:ReferenceDate>\n    <cbc:IssueDate>2020-10-22</cbc:IssueDate>\n    <cac:Signature>\n        \x3c!-- Ruc del firmante --\x3e\n        <cbc:ID>20123456789</cbc:ID>\n        <cac:SignatoryParty>\n        <cac:PartyIdentification>\n        \x3c!-- Ruc del firmante --\x3e\n            <cbc:ID>20123456789</cbc:ID>\n        </cac:PartyIdentification>\n        <cac:PartyName>\n            \x3c!-- Nombre del firmante --\x3e\n            <cbc:Name><![CDATA[MI EMPRESA S.A.C]]></cbc:Name>\n        </cac:PartyName>\n        </cac:SignatoryParty>\n        <cac:DigitalSignatureAttachment>\n        <cac:ExternalReference>\n            \x3c!-- Referencia del firmante, nada expec\xedfico que SUNAT exija. --\x3e\n            <cbc:URI>#EMPRESA-SIGN</cbc:URI>\n        </cac:ExternalReference>\n        </cac:DigitalSignatureAttachment>\n    </cac:Signature>\n    <cac:AccountingSupplierParty>\n        <cbc:CustomerAssignedAccountID>20123456789</cbc:CustomerAssignedAccountID>\n        \x3c!-- Tipo documento emisor: 6 (RUC - Cat\xe1logo 06) --\x3e\n        <cbc:AdditionalAccountID>6</cbc:AdditionalAccountID>\n        <cac:Party>\n            <cac:PartyLegalEntity>\n                \x3c!-- Razon social del Emisor --\x3e\n                <cbc:RegistrationName><![CDATA[MI EMPRESA S.A.C]]></cbc:RegistrationName>\n            </cac:PartyLegalEntity>\n        </cac:Party>\n    </cac:AccountingSupplierParty>\n     \x3c!-- Boleta 1 --\x3e\n    <sac:SummaryDocumentsLine>\n        \x3c!-- Numero secuencial --\x3e\n        <cbc:LineID>1</cbc:LineID>\n        \x3c!-- Tipo comprobante (03: Boleta) - cat\xe1logo 01 --\x3e\n        <cbc:DocumentTypeCode>03</cbc:DocumentTypeCode>\n        \x3c!-- Serie-Correlativo del comprobante --\x3e\n        <cbc:ID>B001-22</cbc:ID>\n        <cac:AccountingCustomerParty>\n            \x3c!-- Numero documento del receptor --\x3e\n            <cbc:CustomerAssignedAccountID>33224567</cbc:CustomerAssignedAccountID>\n            \x3c!-- Tipo documento (1: DNI) - cat\xe1logo 06 --\x3e\n            <cbc:AdditionalAccountID>1</cbc:AdditionalAccountID>\n        </cac:AccountingCustomerParty>\n        <cac:Status>\n            \x3c!-- Estado del comprobante (1: Adicionar) - cat\xe1logo 19 --\x3e\n            <cbc:ConditionCode>1</cbc:ConditionCode>\n        </cac:Status>\n        \x3c!-- Total del comprobante --\x3e\n        <sac:TotalAmount currencyID="PEN">1180.00</sac:TotalAmount>\n        \x3c!-- Total Gravado --\x3e\n        <sac:BillingPayment>\n            \x3c!-- Monto total Gravado --\x3e\n            <cbc:PaidAmount currencyID="PEN">1000.00</cbc:PaidAmount>\n            \x3c!-- Identificador de Total (01: Gravado) - catalogo 11 --\x3e\n            <cbc:InstructionID>01</cbc:InstructionID>\n        </sac:BillingPayment>\n        \x3c!-- IGV --\x3e\n        <cac:TaxTotal>\n            \x3c!-- Monto IGV --\x3e\n            <cbc:TaxAmount currencyID="PEN">180.00</cbc:TaxAmount>\n            <cac:TaxSubtotal>\n                \x3c!-- Mismo Monto IGV --\x3e\n                <cbc:TaxAmount currencyID="PEN">180.00</cbc:TaxAmount>\n                <cac:TaxCategory>\n                    \x3c!-- Codigos constantes para IGV --\x3e\n                    <cac:TaxScheme>\n                        <cbc:ID>1000</cbc:ID>\n                        <cbc:Name>IGV</cbc:Name>\n                        <cbc:TaxTypeCode>VAT</cbc:TaxTypeCode>\n                    </cac:TaxScheme>\n                </cac:TaxCategory>\n            </cac:TaxSubtotal>\n        </cac:TaxTotal>\n    </sac:SummaryDocumentsLine>\n     \x3c!-- Nota Cr\xe9dito 1 --\x3e\n    <sac:SummaryDocumentsLine>\n        \x3c!-- Numero secuencial --\x3e\n        <cbc:LineID>2</cbc:LineID>\n        \x3c!-- Tipo comprobante (07: Nota de cr\xe9dito) - cat\xe1logo 01 --\x3e\n        <cbc:DocumentTypeCode>07</cbc:DocumentTypeCode>\n        \x3c!-- Serie-Correlativo del comprobante --\x3e\n        <cbc:ID>BC01-3</cbc:ID>\n        <cac:AccountingCustomerParty>\n            \x3c!-- Numero documento del receptor --\x3e\n            <cbc:CustomerAssignedAccountID>44112576</cbc:CustomerAssignedAccountID>\n            \x3c!-- Tipo documento (1: DNI) - cat\xe1logo 06 --\x3e\n            <cbc:AdditionalAccountID>1</cbc:AdditionalAccountID>\n        </cac:AccountingCustomerParty>\n        \x3c!-- Documento relacionado: Boleta afectada --\x3e\n        <cac:BillingReference>\n            <cac:InvoiceDocumentReference>\n                \x3c!-- Serie-Correlativo de boleta afectada --\x3e\n                <cbc:ID>B001-15</cbc:ID>\n                \x3c!-- Tipo comprobante afectado (03: Boleta) - cat\xe1logo 01 --\x3e\n                <cbc:DocumentTypeCode>03</cbc:DocumentTypeCode>\n            </cac:InvoiceDocumentReference>\n        </cac:BillingReference>\n        <cac:Status>\n            \x3c!-- Estado del comprobante (1: Adicionar) - cat\xe1logo 19 --\x3e\n            <cbc:ConditionCode>1</cbc:ConditionCode>\n        </cac:Status>\n        \x3c!-- Total del comprobante --\x3e\n        <sac:TotalAmount currencyID="PEN">118.00</sac:TotalAmount>\n        \x3c!-- Total Gravado --\x3e\n        <sac:BillingPayment>\n            \x3c!-- Monto total Gravado --\x3e\n            <cbc:PaidAmount currencyID="PEN">100.00</cbc:PaidAmount>\n            \x3c!-- Identificador de Total (01: Gravado) - catalogo 11 --\x3e\n            <cbc:InstructionID>01</cbc:InstructionID>\n        </sac:BillingPayment>\n        \x3c!-- IGV --\x3e\n        <cac:TaxTotal>\n            \x3c!-- Monto IGV --\x3e\n            <cbc:TaxAmount currencyID="PEN">18.00</cbc:TaxAmount>\n            <cac:TaxSubtotal>\n                \x3c!-- Mismo Monto IGV --\x3e\n                <cbc:TaxAmount currencyID="PEN">18.00</cbc:TaxAmount>\n                <cac:TaxCategory>\n                    \x3c!-- Codigos constantes para IGV --\x3e\n                    <cac:TaxScheme>\n                        <cbc:ID>1000</cbc:ID>\n                        <cbc:Name>IGV</cbc:Name>\n                        <cbc:TaxTypeCode>VAT</cbc:TaxTypeCode>\n                    </cac:TaxScheme>\n                </cac:TaxCategory>\n            </cac:TaxSubtotal>\n        </cac:TaxTotal>\n    </sac:SummaryDocumentsLine>\n     \x3c!-- Boleta 3 --\x3e\n    <sac:SummaryDocumentsLine>\n        \x3c!-- Numero secuencial --\x3e\n        <cbc:LineID>3</cbc:LineID>\n        \x3c!-- Tipo comprobante (03: Boleta) - cat\xe1logo 01 --\x3e\n        <cbc:DocumentTypeCode>03</cbc:DocumentTypeCode>\n        \x3c!-- Serie-Correlativo del comprobante --\x3e\n        <cbc:ID>BA01-11</cbc:ID>\n        <cac:AccountingCustomerParty>\n            \x3c!-- Numero documento del receptor --\x3e\n            <cbc:CustomerAssignedAccountID>00538572</cbc:CustomerAssignedAccountID>\n            \x3c!-- Tipo documento (1: DNI) - cat\xe1logo 06 --\x3e\n            <cbc:AdditionalAccountID>1</cbc:AdditionalAccountID>\n        </cac:AccountingCustomerParty>\n        <cac:Status>\n            \x3c!-- Estado del comprobante (3: Anulado) - cat\xe1logo 19 --\x3e\n            <cbc:ConditionCode>3</cbc:ConditionCode>\n        </cac:Status>\n        \x3c!-- Total del comprobante --\x3e\n        <sac:TotalAmount currencyID="PEN">236.00</sac:TotalAmount>\n        \x3c!-- Total Gravado --\x3e\n        <sac:BillingPayment>\n            \x3c!-- Monto total Gravado --\x3e\n            <cbc:PaidAmount currencyID="PEN">200.00</cbc:PaidAmount>\n            \x3c!-- Identificador de Total (01: Gravado) - catalogo 11 --\x3e\n            <cbc:InstructionID>01</cbc:InstructionID>\n        </sac:BillingPayment>\n        \x3c!-- IGV --\x3e\n        <cac:TaxTotal>\n            \x3c!-- Monto IGV --\x3e\n            <cbc:TaxAmount currencyID="PEN">36.00</cbc:TaxAmount>\n            <cac:TaxSubtotal>\n                \x3c!-- Mismo Monto IGV --\x3e\n                <cbc:TaxAmount currencyID="PEN">36.00</cbc:TaxAmount>\n                <cac:TaxCategory>\n                    \x3c!-- Codigos constantes para IGV --\x3e\n                    <cac:TaxScheme>\n                        <cbc:ID>1000</cbc:ID>\n                        <cbc:Name>IGV</cbc:Name>\n                        <cbc:TaxTypeCode>VAT</cbc:TaxTypeCode>\n                    </cac:TaxScheme>\n                </cac:TaxCategory>\n            </cac:TaxSubtotal>\n        </cac:TaxTotal>\n    </sac:SummaryDocumentsLine>\n</SummaryDocuments>\n')),Object(o.b)("h3",{id:"firma"},"Firma"),Object(o.b)("p",null,"Seguiremos la gu\xeda de la secci\xf3n ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/sign"}),"firma"),", el resultado del documento firmado se puede descargar ",Object(o.b)("a",{href:Object(r.a)("file/20123456789-RC-20201022-33221.xml"),target:"'_blank'"},"aqu\xed"),"."),Object(o.b)("h3",{id:"envio-a-sunat"},"Envio a SUNAT."),Object(o.b)("p",null,"Primero definiremos la nomenclatura de este documento, tendremos en cuenta la referencia de la seccion anterior de ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/webservices#Nomenclatura"}),"webservices"),". "),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"{RUC}-RC-{FECHA}-{CORRELATIVO}.xml")),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Sigla"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Descripci\xf3n"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"RUC")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Ruc del emisor")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"FECHA")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Fecha generaci\xf3n del resumen (formato: ",Object(o.b)("inlineCode",{parentName:"td"},"YYYYMMDD"),")")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(o.b)("inlineCode",{parentName:"td"},"CORRELATIVO")),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Correlativo del documento (m\xe1xima longitud: ",Object(o.b)("inlineCode",{parentName:"td"},"5"),")")))),Object(o.b)("p",null,"El proceso de comunicar a SUNAT es un proceso as\xedncrono, eso quiere decir que no obtendremos la respuesta de SUNAT en la petici\xf3n inicial sino que tendremos que hacer una segunda petici\xf3n para saber el resultado.\nLos m\xe9todos ",Object(o.b)("inlineCode",{parentName:"p"},"SOAP")," a utilizar son:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"sendSummary"),": Env\xedo del resumen diario."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"getStatus"),": Obtener el resultado del resumen diario.")),Object(o.b)("p",null,"Realizaremos la compresi\xf3n del archivo xml, con nombre: ",Object(o.b)("inlineCode",{parentName:"p"},"20123456789-RC-20201022-33221.zip"),", y\na continuaci\xf3n la incluiremos en la trama SOAP, similar al env\xedo de factura."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml",metastring:'title="./trama.xml" {11-14}',title:'"./trama.xml"',"{11-14}":!0}),'<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns1="http://service.sunat.gob.pe" xmlns:ns2="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">\n   <SOAP-ENV:Header>\n      <ns2:Security>\n         <ns2:UsernameToken>\n            <ns2:Username>20123456789MODDATOS</ns2:Username>\n            <o:Password xmlns:o="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText">moddatos</o:Password>\n         </ns2:UsernameToken>\n      </ns2:Security>\n   </SOAP-ENV:Header>\n   <SOAP-ENV:Body>\n      <ns1:sendSummary>\n        <fileName>20123456789-RC-20201022-33221.zip</fileName>\n        <contentFile>ZIP_BASE_64</contentFile>\n      </ns1:sendSummary>\n   </SOAP-ENV:Body>\n</SOAP-ENV:Envelope>\n')),Object(o.b)("p",null,"Ahora invocaremos el servicio SOAP utilizando ",Object(o.b)("inlineCode",{parentName:"p"},"curl"),"."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),'curl -X POST -H "Content-Type: text/xml" --data-binary @trama.xml \\\n https://e-beta.sunat.gob.pe/ol-ti-itcpfegem-beta/billService\n')),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),'<?xml version="1.0" encoding="UTF-8"?>\n<soap-env:Envelope xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">\n    <soap-env:Header/>\n    <soap-env:Body>\n        <br:sendSummaryResponse xmlns:br="http://service.sunat.gob.pe">\n            <ticket>1603506008386</ticket>\n        </br:sendSummaryResponse>\n    </soap-env:Body>\n</soap-env:Envelope>\n')),Object(o.b)("p",null,"Invocando el servicio SOAP."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),'curl -X POST -H "Content-Type: text/xml" --data-binary @status.xml \\\n https://e-beta.sunat.gob.pe/ol-ti-itcpfegem-beta/billService\n')),Object(o.b)("p",null,"El resultado ser\xe1 el siguiente."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml",metastring:"{6,7}","{6,7}":!0}),'<?xml version="1.0" encoding="UTF-8"?>\n<S:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:S="http://schemas.xmlsoap.org/soap/envelope/">\n    <S:Body>\n        <ns2:getStatusResponse xmlns:ns2="http://service.sunat.gob.pe">\n            <status>\n                <content>ZIP_BASE64_RESPONSE</content>\n                <statusCode>0</statusCode>\n            </status>\n        </ns2:getStatusResponse>\n    </S:Body>\n</S:Envelope>\n')),Object(o.b)("p",null,"Referencia sobre ",Object(o.b)("inlineCode",{parentName:"p"},"statusCode"),":"),Object(o.b)("table",null,Object(o.b)("thead",{parentName:"table"},Object(o.b)("tr",{parentName:"thead"},Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"statusCode"),Object(o.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Descripcion"))),Object(o.b)("tbody",{parentName:"table"},Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"0"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Proceso correctamente, el campo ",Object(o.b)("inlineCode",{parentName:"td"},"content")," contendr\xe1 el resultado")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"98"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"En proceso, necesitas volver a consultar")),Object(o.b)("tr",{parentName:"tbody"},Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"99"),Object(o.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Proceso con errores, el campo ",Object(o.b)("inlineCode",{parentName:"td"},"content")," contendr\xe1 el resultado")))),Object(o.b)("p",null,"Guardamos el valor de la marca ",Object(o.b)("inlineCode",{parentName:"p"},"ZIP_BASE64_RESPONSE")," en un archivo ",Object(o.b)("inlineCode",{parentName:"p"},"response.txt"),", para proceder a decodificarlo y obtener el ZIP que contiene la respuesta."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"base64 -d response.txt > result.zip\n")),Object(o.b)("p",null,"En ",Object(o.b)("inlineCode",{parentName:"p"},"result.zip")," ubicaremos el XML del CDR donde nos indicar que el documento fue aceptado. M\xe1s informacion sobre CDR en la secci\xf3n de ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/webservices#CDR"}),"webservices"),"."))}m.isMDXComponent=!0}}]);