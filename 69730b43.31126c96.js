(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{101:function(e,t,n){"use strict";function a(e){return!0===/^(\w*:|\/\/)/.test(e)}function c(e){return void 0!==e&&!a(e)}n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}))},76:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return s})),n.d(t,"rightToc",(function(){return b})),n.d(t,"default",(function(){return d}));var a=n(2),c=n(6),r=(n(0),n(96)),o=n(98),i={id:"baja",title:"Comunicaiones de baja",sidebar_label:"Dar de baja"},s={unversionedId:"baja",id:"baja",isDocsHomePage:!1,title:"Comunicaiones de baja",description:"Para anular o dar de baja un comprobante electr\xf3nico, SUNAT a definido un esquema XML nombrado como VoidedDocuments. En este documento se pueden informar varios comprobantes siempre que hayan sido emitidos en la misma fecha.",source:"@site/docs/baja.md",permalink:"/docs/baja",editUrl:"https://github.com/thegreenter/F001-1/edit/master/website/docs/baja.md",sidebar_label:"Dar de baja",sidebar:"docs",previous:{title:"Servicios Web de SUNAT",permalink:"/docs/webservices"},next:{title:"Resumen diario de Boletas",permalink:"/docs/resumen_diario"}},b=[{value:"Comprobantes permitidos",id:"comprobantes-permitidos",children:[]},{value:"Informaci\xf3n requerida",id:"informaci\xf3n-requerida",children:[]},{value:"Ejemplo",id:"ejemplo",children:[{value:"XML",id:"xml",children:[]},{value:"Firma",id:"firma",children:[]},{value:"Envio a SUNAT.",id:"envio-a-sunat",children:[]}]}],l={rightToc:b};function d(e){var t=e.components,n=Object(c.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},l,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Para anular o dar de baja un comprobante electr\xf3nico, SUNAT a definido un esquema XML nombrado como ",Object(r.b)("inlineCode",{parentName:"p"},"VoidedDocuments"),". En este documento se pueden informar varios comprobantes siempre que hayan sido emitidos en la misma fecha."),Object(r.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"Versi\xf3n UBL")),Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Aunque este documento (",Object(r.b)("inlineCode",{parentName:"p"},"VoidedDocuments"),") no forma parte del est\xe1ndar UBL, SUNAT a decido asignarle la version ",Object(r.b)("inlineCode",{parentName:"p"},"UBL 2.0")))),Object(r.b)("h2",{id:"comprobantes-permitidos"},"Comprobantes permitidos"),Object(r.b)("p",null,"Los tipos de comprobantes principales que pueden darse de baja utilizando este documento, son los siguientes."),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Tipo"),Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Descripci\xf3n"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"01"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Facturas")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"07"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Nota de cr\xe9dito relacionada a facturas")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"08"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Nota de d\xe9bito relacionada a facturas")))),Object(r.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(r.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"Baja de Boletas")),Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Las boletas y notas de cr\xe9dito/d\xe9bito relacionadas deben darse de baja utilizando el documento de ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/resumen_diario"}),"resumen diario"),"."))),Object(r.b)("h2",{id:"informaci\xf3n-requerida"},"Informaci\xf3n requerida"),Object(r.b)("p",null,"Necesitamos incluir la siguiente informaci\xf3n por cada comprobante a dar de baja."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Tipo de comprobante"),Object(r.b)("li",{parentName:"ul"},"Serie del comprobante"),Object(r.b)("li",{parentName:"ul"},"Correlativo del comprobante"),Object(r.b)("li",{parentName:"ul"},"Motivo de baja")),Object(r.b)("p",null,"Adicionalmente necesitamos un identificador de este documento, que sigue el siguiente patr\xf3n:\n",Object(r.b)("inlineCode",{parentName:"p"},"RA-<Fecha>-<Correlativo>")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"RA"),": Valor constante"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"<Fecha>"),": Fecha de la comunicaci\xf3n de baja en formato ",Object(r.b)("inlineCode",{parentName:"li"},"YYYYMMDD"),"."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"<Correlativo>"),": Correlativo definido por el emisor, puede contener hasta 5 digitos.")),Object(r.b)("h2",{id:"ejemplo"},"Ejemplo"),Object(r.b)("p",null,"En este ejemplo daremos de baja una factura y una nota de cr\xe9dito relacionada a factura."),Object(r.b)("p",null,"Datos de los comprobantes"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"N\xb0"),Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Fecha emisi\xf3n"),Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Tipo"),Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Serie"),Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Correlativo"),Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Motivo"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"1"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"2020-10-15"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"01"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"F001"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"111"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"ERROR DE SISTEMA")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"2"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"2020-10-15"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"07"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"FC01"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"23"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"ERROR EN RUC")))),Object(r.b)("h3",{id:"xml"},"XML"),Object(r.b)("p",null,"El estructura del XML para una comunicacion de baja."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),'<?xml version="1.0" encoding="utf-8"?>\n<VoidedDocuments xmlns="urn:sunat:names:specification:ubl:peru:schema:xsd:VoidedDocuments-1" xmlns:cac="urn:oasis:names:specification:ubl:schema:xsd:CommonAggregateComponents-2" xmlns:cbc="urn:oasis:names:specification:ubl:schema:xsd:CommonBasicComponents-2" xmlns:ext="urn:oasis:names:specification:ubl:schema:xsd:CommonExtensionComponents-2" xmlns:sac="urn:sunat:names:specification:ubl:peru:schema:xsd:SunatAggregateComponents-1" xmlns:ds="http://www.w3.org/2000/09/xmldsig#">\n    <ext:UBLExtensions>\n        <ext:UBLExtension>\n            <ext:ExtensionContent/>\n        </ext:UBLExtension>\n    </ext:UBLExtensions>\n    \x3c!-- La versi\xf3n de UBL --\x3e\n    <cbc:UBLVersionID>2.0</cbc:UBLVersionID>\n    \x3c!-- La versi\xf3n de la estructura del documento, SUNAT define 2.0 como valor constante para UBL 2.1 --\x3e\n    <cbc:CustomizationID>1.0</cbc:CustomizationID>\n    \x3c!-- Identificador RA-<Fecha>-##### --\x3e\n    <cbc:ID>RA-20201018-14</cbc:ID>\n    \x3c!-- Fecha emisi\xf3n de comprobantes  --\x3e\n    <cbc:ReferenceDate>2020-10-15</cbc:ReferenceDate>\n    \x3c!-- Fecha de la comunicaci\xf3n de baja --\x3e\n    <cbc:IssueDate>2020-10-18</cbc:IssueDate>\n    <cac:Signature>\n        \x3c!-- Ruc del firmante --\x3e\n        <cbc:ID>20123456789</cbc:ID>\n        <cac:SignatoryParty>\n        <cac:PartyIdentification>\n        \x3c!-- Ruc del firmante --\x3e\n            <cbc:ID>20123456789</cbc:ID>\n        </cac:PartyIdentification>\n        <cac:PartyName>\n            \x3c!-- Nombre del firmante --\x3e\n            <cbc:Name><![CDATA[MI EMPRESA S.A.C]]></cbc:Name>\n        </cac:PartyName>\n        </cac:SignatoryParty>\n        <cac:DigitalSignatureAttachment>\n        <cac:ExternalReference>\n            \x3c!-- Referencia del firmante, nada expec\xedfico que SUNAT exija. --\x3e\n            <cbc:URI>#EMPRESA-SIGN</cbc:URI>\n        </cac:ExternalReference>\n        </cac:DigitalSignatureAttachment>\n    </cac:Signature>\n    <cac:AccountingSupplierParty>\n        <cbc:CustomerAssignedAccountID>20123456789</cbc:CustomerAssignedAccountID>\n        \x3c!-- Tipo documento emisor: 6 (RUC - Cat\xe1logo 06) --\x3e\n        <cbc:AdditionalAccountID>6</cbc:AdditionalAccountID>\n        <cac:Party>\n            <cac:PartyLegalEntity>\n                \x3c!-- Razon social del Emisor --\x3e\n                <cbc:RegistrationName><![CDATA[MI EMPRESA S.A.C]]></cbc:RegistrationName>\n            </cac:PartyLegalEntity>\n        </cac:Party>\n    </cac:AccountingSupplierParty>\n    <sac:VoidedDocumentsLine>\n        \x3c!-- Numero secuencial --\x3e\n        <cbc:LineID>1</cbc:LineID>\n        \x3c!-- Tipo de comprobante --\x3e\n        <cbc:DocumentTypeCode>01</cbc:DocumentTypeCode>\n        \x3c!-- Serie del comprobante --\x3e\n        <sac:DocumentSerialID>F001</sac:DocumentSerialID>\n        \x3c!-- Correlativo del comprobante --\x3e\n        <sac:DocumentNumberID>111</sac:DocumentNumberID>\n        \x3c!-- Motivo de baja --\x3e\n        <sac:VoidReasonDescription><![CDATA[ERROR DE SISTEMA]]></sac:VoidReasonDescription>\n    </sac:VoidedDocumentsLine>\n    <sac:VoidedDocumentsLine>\n        \x3c!-- Numero secuencial --\x3e\n        <cbc:LineID>2</cbc:LineID>\n        \x3c!-- Tipo de comprobante --\x3e\n        <cbc:DocumentTypeCode>01</cbc:DocumentTypeCode>\n        \x3c!-- Serie del comprobante --\x3e\n        <sac:DocumentSerialID>FC01</sac:DocumentSerialID>\n        \x3c!-- Correlativo del comprobante --\x3e\n        <sac:DocumentNumberID>23</sac:DocumentNumberID>\n        \x3c!-- Motivo de baja --\x3e\n        <sac:VoidReasonDescription><![CDATA[ERROR EN RUC]]></sac:VoidReasonDescription>\n    </sac:VoidedDocumentsLine>\n</VoidedDocuments>\n')),Object(r.b)("h3",{id:"firma"},"Firma"),Object(r.b)("p",null,"Seguiremos la gu\xeda de la secci\xf3n ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/sign"}),"firma"),", el resultado del documento firmado se puede descargar ",Object(r.b)("a",{href:Object(o.a)("file/20123456789-RA-20201018-1.xml"),target:"'_blank'"},"aqu\xed"),"."),Object(r.b)("h3",{id:"envio-a-sunat"},"Envio a SUNAT."),Object(r.b)("p",null,"Primero definiremos la nomenclatura de este documento, tendremos en cuenta la referencia de la seccion anterior de ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/webservices#Nomenclatura"}),"webservices"),". "),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"{RUC}-RA-{FECHA}-{CORRELATIVO}.xml")),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Sigla"),Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Descripci\xf3n"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"RUC")),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Ruc del emisor")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"FECHA")),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Fecha generaci\xf3n del documento (formato: ",Object(r.b)("inlineCode",{parentName:"td"},"YYYYMMDD"),")")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"CORRELATIVO")),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Correlativo del documento (m\xe1xima longitud: ",Object(r.b)("inlineCode",{parentName:"td"},"5"),")")))),Object(r.b)("p",null,"El proceso de comunicar a SUNAT es un proceso as\xedncrono, eso quiere decir que no obtendremos la respuesta de SUNAT en la petici\xf3n inicial sino que tendremos que hacer una segunda petici\xf3n para saber el resultado.\nLos m\xe9todos ",Object(r.b)("inlineCode",{parentName:"p"},"SOAP")," a utilizar son:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"sendSummary"),": Env\xedo de la comunicaci\xf3n de baja."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"getStatus"),": Obtener el resultado de la comunicaci\xf3n de baja.")),Object(r.b)("p",null,"Realizaremos la compresi\xf3n del archivo xml, con nombre: ",Object(r.b)("inlineCode",{parentName:"p"},"20123456789-RA-20201018-1.zip"),", y\na continuaci\xf3n la incluiremos en la trama SOAP, muy similar al env\xedo de factura."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml",metastring:'title="./trama.xml" {11-14}',title:'"./trama.xml"',"{11-14}":!0}),'<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns1="http://service.sunat.gob.pe" xmlns:ns2="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">\n   <SOAP-ENV:Header>\n      <ns2:Security>\n         <ns2:UsernameToken>\n            <ns2:Username>20123456789MODDATOS</ns2:Username>\n            <o:Password xmlns:o="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText">moddatos</o:Password>\n         </ns2:UsernameToken>\n      </ns2:Security>\n   </SOAP-ENV:Header>\n   <SOAP-ENV:Body>\n      <ns1:sendSummary>\n        <fileName>20123456789-RA-20201018-1.zip</fileName>\n        <contentFile>ZIP_BASE_64</contentFile>\n      </ns1:sendSummary>\n   </SOAP-ENV:Body>\n</SOAP-ENV:Envelope>\n')),Object(r.b)("p",null,"Ahora invocaremos el servicio SOAP utilizando ",Object(r.b)("inlineCode",{parentName:"p"},"curl"),"."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),'curl -X POST -H "Content-Type: text/xml" --data-binary @trama.xml \\\n https://e-beta.sunat.gob.pe/ol-ti-itcpfegem-beta/billService\n')),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml"}),'<?xml version="1.0" encoding="UTF-8"?>\n<soap-env:Envelope xmlns:soap-env="http://schemas.xmlsoap.org/soap/envelope/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:wsse="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">\n    <soap-env:Header/>\n    <soap-env:Body>\n        <br:sendSummaryResponse xmlns:br="http://service.sunat.gob.pe">\n            <ticket>1603058796047</ticket>\n        </br:sendSummaryResponse>\n    </soap-env:Body>\n</soap-env:Envelope>\n')),Object(r.b)("p",null,"Obtendr\xe9mos como resultado un n\xfamero de ",Object(r.b)("inlineCode",{parentName:"p"},"ticket")," = ",Object(r.b)("strong",{parentName:"p"},"1603058796047"),", que nos servir\xe1 para consultar el CDR de la comunicaci\xf3n de baja, con la siguiente trama:"),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml",metastring:'title="./status.xml" {11,13,14}',title:'"./status.xml"',"{11,13,14}":!0}),'<SOAP-ENV:Envelope xmlns:SOAP-ENV="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ns1="http://service.sunat.gob.pe" xmlns:ns2="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd">\n   <SOAP-ENV:Header>\n      <ns2:Security>\n         <ns2:UsernameToken>\n            <ns2:Username>20123456789MODDATOS</ns2:Username>\n            <o:Password xmlns:o="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd" Type="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordText">moddatos</o:Password>\n         </ns2:UsernameToken>\n      </ns2:Security>\n   </SOAP-ENV:Header>\n   <SOAP-ENV:Body>\n      <ns1:getStatus>\n        <ticket>1603058796047</ticket>\n      </ns1:getStatus>\n   </SOAP-ENV:Body>\n</SOAP-ENV:Envelope>\n')),Object(r.b)("p",null,"Invocando el servicio SOAP."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),'curl -X POST -H "Content-Type: text/xml" --data-binary @status.xml \\\n https://e-beta.sunat.gob.pe/ol-ti-itcpfegem-beta/billService\n')),Object(r.b)("p",null,"El resultado ser\xe1 el siguiente."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-xml",metastring:"{6,7}","{6,7}":!0}),'<?xml version="1.0" encoding="UTF-8"?>\n<S:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" xmlns:S="http://schemas.xmlsoap.org/soap/envelope/">\n    <S:Body>\n        <ns2:getStatusResponse xmlns:ns2="http://service.sunat.gob.pe">\n            <status>\n                <content>ZIP_BASE64_RESPONSE</content>\n                <statusCode>0</statusCode>\n            </status>\n        </ns2:getStatusResponse>\n    </S:Body>\n</S:Envelope>\n')),Object(r.b)("p",null,"Referencia sobre ",Object(r.b)("inlineCode",{parentName:"p"},"statusCode"),":"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"statusCode"),Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Descripcion"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"0"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Proceso correctamente, el campo ",Object(r.b)("inlineCode",{parentName:"td"},"content")," contendr\xe1 el resultado")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"98"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"En proceso, necesitas volver a consultar")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"99"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Proceso con errores, el campo ",Object(r.b)("inlineCode",{parentName:"td"},"content")," contendr\xe1 el resultado")))),Object(r.b)("p",null,"Guardamos el valor de la marca ",Object(r.b)("inlineCode",{parentName:"p"},"ZIP_BASE64_RESPONSE")," en un archivo ",Object(r.b)("inlineCode",{parentName:"p"},"response.txt"),", para proceder a decodificarlo y obtener el ZIP que contiene la respuesta."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-bash"}),"base64 -d response.txt > result.zip\n")),Object(r.b)("p",null,"En ",Object(r.b)("inlineCode",{parentName:"p"},"result.zip")," ubicaremos el XML del CDR donde nos indicar que el documento fue aceptado. M\xe1s informacion sobre CDR en la secci\xf3n de ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/webservices#CDR"}),"webservices"),"."))}d.isMDXComponent=!0},96:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n(0),c=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var b=c.a.createContext({}),l=function(e){var t=c.a.useContext(b),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=l(e.components);return c.a.createElement(b.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return c.a.createElement(c.a.Fragment,{},t)}},p=c.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,o=e.parentName,b=s(e,["components","mdxType","originalType","parentName"]),d=l(n),p=a,u=d["".concat(o,".").concat(p)]||d[p]||m[p]||r;return n?c.a.createElement(u,i(i({ref:t},b),{},{components:n})):c.a.createElement(u,i({ref:t},b))}));function u(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=p;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:a,o[1]=i;for(var b=2;b<r;b++)o[b]=n[b];return c.a.createElement.apply(null,o)}return c.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},97:function(e,t,n){"use strict";var a=n(0),c=n(21);t.a=function(){var e=Object(a.useContext)(c.a);if(null===e)throw new Error("Docusaurus context not provided");return e}},98:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));var a=n(97),c=n(101);function r(){var e=Object(a.a)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,n=void 0===t?"/":t,r=e.url;return{withBaseUrl:function(e,t){return function(e,t,n,a){var r=void 0===a?{}:a,o=r.forcePrependBaseUrl,i=void 0!==o&&o,s=r.absolute,b=void 0!==s&&s;if(!n)return n;if(n.startsWith("#"))return n;if(Object(c.b)(n))return n;if(i)return t+n;var l=!n.startsWith(t)?t+n.replace(/^\//,""):n;return b?e+l:l}(r,n,e,t)}}}function o(e,t){return void 0===t&&(t={}),(0,r().withBaseUrl)(e,t)}}}]);